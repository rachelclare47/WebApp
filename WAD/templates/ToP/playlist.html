{% extends 'ToP/base.html' %}
{% load staticfiles %}

{% block title %}
	{{ playlist.name }}
{% endblock %}

{% block body %}
    {% if playlist %}
		{% if playlist.picture %}
			<img src="{{ playlist.picture.url }} "height='135' width='auto'></br>
		{% else %}
			<img src="{{ MEDIA_URL }}vinyl-883199_960_720.png "height='135' width='auto'></br>
		{% endif %}
		<h1>{{ playlist.name }}</h1>
		<strong> Playlist Views: </strong>{{ visits }}<br/>

		{% if songs %}
			<ul>
				{% for song in songs %}
					<li>
					<img src="{{ ARTIST_MEDIA_URL }}{{ song.artist_art }} "height='135' width='auto'>
					<img src="{{ ARTIST_MEDIA_URL }}{{ song.album_art }} "height='135' width='auto'><br/>
					{{ song.title }}
					by {{ song.artist }}<br/>
					Album: {{song.album}}<br/>
					Genre: {{ song.genre}}<br/>
					</li>
				{% endfor %}
			</ul>
			<hr>
			<a class="btn btn-default" href="/ToP/playlist/{{ playlist.slug }}/comment/">Add comment</a>
			{% for comment in playlist.comments.all %}
				<div class="comment">
					<p><strong>{{ comment.author }}: </strong>{{ comment.text }}</br>
					{{ comment.created_date }}
					</p>
				</div>
			{% empty %}
				<p>No comments </p>
			{% endfor %}
		{% else %}
			<strong>No songs currently in playlist.</strong>
		{% endif %}
    {% else %}
		The specified playlist does not exist!
	{% endif %}
	{% if playlist.author == user.username %}
    	<a href="/ToP/playlist/{{ playlist.slug }}/add_song/">Add a Song</a> <br/>
	{% endif %}
{% endblock %}